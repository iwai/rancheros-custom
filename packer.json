{
    "variables": {
        "common_iso_url": "https://github.com/iwai/rancheros-custom/releases/download/v1.5.2/rancheros.iso",
        "common_iso_checksum": "b1cc53e853bb9cda76877737218d9d75"
    },
    "builders": [
        {
            "type": "virtualbox-iso",
            "guest_os_type": "Linux_64",
            "headless": false,
            "memory": 1024,
            "disk_size": 8000,

            "iso_url": "{{ user `common_iso_url` }}",
            "iso_checksum_type": "md5",
            "iso_checksum": "{{ user `common_iso_checksum` }}",
            "guest_additions_mode": "disable",

            "http_directory": ".",

            "boot_wait": "20s",
            "boot_command": [
                "sudo ros install -c http://{{ .HTTPIP }}:{{ .HTTPPort }}/config/cloud-config.vbox.yml -d /dev/sda<enter><wait>",
                "y<enter><wait2>",
                "y<enter><wait10>"
            ],
            "shutdown_command": "",
            "communicator": "none",
            "virtualbox_version_file": "",

            "vm_name": "rancheros",
            "keep_registered": true
        }
    ]
}
